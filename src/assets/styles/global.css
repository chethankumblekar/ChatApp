@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Bricolage+Grotesque:wght@600;700&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg0: #080810; --bg1: #0e0e1a; --bg2: #14142a; --bg3: #1c1c38;
  --accent: #7c3aed; --acc-glow: rgba(124,58,237,.3); --acc-soft: rgba(124,58,237,.12);
  --sent: #6d28d9; --recv: #1e1e3a;
  --t1: #f0f0fa; --t2: #9898c0; --t3: #4a4a7a;
  --border: rgba(255,255,255,.07); --border2: rgba(255,255,255,.13);
  --online: #22c55e;
}

body { background: var(--bg0); font-family: 'Plus Jakarta Sans', sans-serif; color: var(--t1); height: 100dvh; overflow: hidden; }
#root { height: 100dvh; }

/* SHELL */
.shell { display: flex; height: 100dvh; }

/* SIDEBAR */
.sidebar { width: 64px; background: var(--bg1); border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding: 16px 0; flex-shrink: 0; }
.s-logo { font-size: 24px; margin-bottom: 16px; }
.s-spacer { flex: 1; }
.s-bottom { display: flex; flex-direction: column; align-items: center; gap: 12px; padding-bottom: 4px; }
.nav-btn { background: none; border: none; cursor: pointer; color: var(--t2); font-size: 18px; padding: 8px; border-radius: 10px; transition: .15s; }
.nav-btn:hover { background: var(--bg3); color: var(--t1); }

/* CHAT LIST */
.cl-panel { width: 296px; background: var(--bg1); border-right: 1px solid var(--border); display: flex; flex-direction: column; flex-shrink: 0; }
.cl-header { padding: 22px 16px 10px; border-bottom: 1px solid var(--border); }
.cl-title { font-family: 'Bricolage Grotesque', sans-serif; font-size: 18px; font-weight: 700; }
.cl-search { padding: 10px 12px; }
.search-input { width: 100%; background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; padding: 8px 12px; color: var(--t1); font-family: inherit; font-size: 13px; outline: none; }
.search-input:focus { border-color: var(--accent); }
.cl-list { flex: 1; overflow-y: auto; padding: 4px 8px 8px; }
.cl-item { display: flex; align-items: center; gap: 10px; padding: 10px; border-radius: 12px; cursor: pointer; transition: .14s; margin-bottom: 2px; position: relative; }
.cl-item:hover { background: var(--bg2); }
.cl-item.active { background: var(--acc-soft); }
.cl-item.active::before { content: ''; position: absolute; left: 0; width: 3px; height: 55%; background: var(--accent); border-radius: 0 3px 3px 0; top: 22.5%; }
.cl-info { flex: 1; min-width: 0; }
.cl-row { display: flex; justify-content: space-between; align-items: center; }
.cl-name { font-size: 13px; font-weight: 600; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 130px; }
.cl-time { font-size: 10px; color: var(--t3); flex-shrink: 0; }
.cl-preview { font-size: 11px; color: var(--t2); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; margin-top: 2px; }
.badge { background: #f59e0b; color: #000; border-radius: 10px; font-size: 9px; font-weight: 800; padding: 2px 6px; flex-shrink: 0; }

/* MAIN */
.main { flex: 1; display: flex; flex-direction: column; background: var(--bg0); min-width: 0; }

/* TOPBAR */
.topbar { display: flex; align-items: center; padding: 12px 18px; border-bottom: 1px solid var(--border); background: var(--bg1); gap: 12px; flex-shrink: 0; }
.tb-info { flex: 1; }
.tb-name { font-family: 'Bricolage Grotesque', sans-serif; font-size: 14px; font-weight: 600; }
.tb-status { font-size: 11px; color: var(--t3); margin-top: 1px; }

/* MESSAGES */
.msgs-area { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 2px; }
.msg-row { display: flex; align-items: flex-end; gap: 6px; animation: msgIn .18s ease; }
@keyframes msgIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: none; } }
.msg-row.sent { flex-direction: row-reverse; }
.msg-avatar { width: 26px; height: 26px; border-radius: 50%; background: var(--accent); display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; color: #fff; }
.msg-group { display: flex; flex-direction: column; max-width: min(460px, 68%); }
.msg-group.sent { align-items: flex-end; }
.msg-group.recv { align-items: flex-start; }
.bubble { padding: 9px 13px; border-radius: 16px; font-size: 13.5px; line-height: 1.5; word-break: break-word; }
.bubble.recv { background: var(--recv); border: 1px solid var(--border2); border-radius: 3px 16px 16px 16px; }
.bubble.sent { background: linear-gradient(135deg, var(--sent), #5b21b6); color: #fff; border-radius: 16px 3px 16px 16px; }
.msg-meta { font-size: 9px; color: var(--t3); margin-top: 2px; display: flex; align-items: center; gap: 4px; }
.msg-meta.sent { justify-content: flex-end; }
.tick-read { color: var(--accent); }
.tick-unread { color: var(--t3); }

/* TYPING */
.typing-bubble { display: inline-flex; gap: 4px; background: var(--recv); border: 1px solid var(--border2); border-radius: 3px 16px 16px 16px; padding: 10px 14px; }
.t-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--t3); animation: tdot 1.2s infinite; }
.t-dot:nth-child(2) { animation-delay: .2s; } .t-dot:nth-child(3) { animation-delay: .4s; }
@keyframes tdot { 0%, 80%, 100% { transform: translateY(0); opacity: .4; } 40% { transform: translateY(-5px); opacity: 1; } }

/* INPUT */
.input-bar { padding: 12px 18px; border-top: 1px solid var(--border); background: var(--bg1); display: flex; align-items: flex-end; gap: 10px; flex-shrink: 0; }
.input-wrap { flex: 1; background: var(--bg2); border: 1px solid var(--border); border-radius: 14px; padding: 9px 14px; transition: .2s; }
.input-wrap:focus-within { border-color: var(--accent); box-shadow: 0 0 0 3px var(--acc-soft); }
.input-wrap textarea { width: 100%; background: none; border: none; outline: none; color: var(--t1); font-family: inherit; font-size: 13.5px; resize: none; max-height: 120px; line-height: 1.5; }
.input-wrap textarea::placeholder { color: var(--t3); }
.send-btn { width: 42px; height: 42px; border-radius: 12px; background: var(--accent); border: none; cursor: pointer; color: #fff; font-size: 16px; transition: .18s; flex-shrink: 0; box-shadow: 0 4px 12px var(--acc-glow); }
.send-btn:hover { transform: scale(1.06); }
.send-btn:disabled { opacity: .35; cursor: not-allowed; transform: none; }

/* EMPTY STATE */
.empty-state { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; color: var(--t3); padding: 40px; text-align: center; }
.empty-icon { font-size: 48px; }
.empty-state h3 { font-family: 'Bricolage Grotesque', sans-serif; font-size: 17px; color: var(--t2); }
.empty-state p { font-size: 13px; line-height: 1.7; max-width: 240px; }

/* LOGIN */
.login-page { min-height: 100dvh; display: flex; align-items: center; justify-content: center; background: var(--bg0); position: relative; overflow: hidden; }
.orb { position: absolute; border-radius: 50%; filter: blur(90px); opacity: .12; pointer-events: none; }
.orb-1 { width: 380px; height: 380px; background: #7c3aed; top: -100px; right: -80px; }
.orb-2 { width: 280px; height: 280px; background: #6d28d9; bottom: -70px; left: -70px; }
.login-card { background: var(--bg1); border: 1px solid var(--border2); border-radius: 22px; padding: 44px 38px; width: 100%; max-width: 390px; position: relative; z-index: 1; box-shadow: 0 8px 32px rgba(0,0,0,.5); animation: fadeUp .4s ease; }
@keyframes fadeUp { from { opacity: 0; transform: translateY(18px); } to { opacity: 1; transform: none; } }
.login-brand { display: flex; align-items: center; gap: 12px; margin-bottom: 32px; }
.login-logo { font-size: 28px; width: 44px; height: 44px; background: var(--accent); border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 20px var(--acc-glow); }
.login-app-name { font-family: 'Bricolage Grotesque', sans-serif; font-size: 18px; font-weight: 700; }
.login-app-sub { color: var(--t3); font-size: 11px; }
.login-heading { font-family: 'Bricolage Grotesque', sans-serif; font-size: 26px; font-weight: 700; margin-bottom: 8px; }
.login-desc { color: var(--t2); font-size: 13px; line-height: 1.65; margin-bottom: 28px; }
.btn-google { width: 100%; padding: 13px; background: var(--bg2); border: 1px solid var(--border2); border-radius: 12px; display: flex; align-items: center; justify-content: center; gap: 10px; cursor: pointer; color: var(--t1); font-family: inherit; font-size: 14px; font-weight: 500; transition: .18s; }
.btn-google:hover:not(:disabled) { background: var(--bg3); border-color: var(--accent); transform: translateY(-1px); }
.btn-google:disabled { opacity: .5; cursor: not-allowed; }
.error-banner { background: rgba(239,68,68,.1); border: 1px solid rgba(239,68,68,.3); border-radius: 9px; padding: 10px 14px; font-size: 12px; color: #ef4444; margin-top: 12px; }

::-webkit-scrollbar { width: 3px; }
::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 2px; }

.search-wrap { position: relative; display: flex; align-items: center; background: var(--bg2); border: 1px solid var(--border); border-radius: 10px; padding: 8px 12px; gap: 8px; transition: .2s; }
.search-wrap:focus-within { border-color: var(--accent); }
.search-icon { font-size: 12px; color: var(--t3); flex-shrink: 0; }
.search-clear { background: none; border: none; cursor: pointer; color: var(--t3); font-size: 11px; padding: 0; line-height: 1; }
.search-clear:hover { color: var(--t1); }
.search-results { border-bottom: 1px solid var(--border); padding: 4px 8px 8px; }
.search-hint { font-size: 12px; color: var(--t3); padding: 10px 6px; text-align: center; }
.section-label { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: .08em; color: var(--t3); padding: 8px 16px 4px; }
